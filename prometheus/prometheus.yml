global:
  scrape_interval: 15s
  scrape_timeout: 10s

scrape_configs:
  - job_name: prometheus
    static_configs:
      - targets: ['localhost:9090']

  - job_name: node-exporter
    static_configs:
      - targets:
          - '100.117.69.115:9100'   # pimento
        labels:
          hostname: 'pimento'
      - targets:
          - '100.121.35.12:9100'    # capsicum
        labels:
          hostname: 'capsicum'
      - targets:
          - '100.102.170.100:9100'  # chipotle
        labels:
          hostname: 'chipotle'
      - targets:
          - '100.96.0.121:9100'     # birdseye
        labels:
          hostname: 'birdseye'

  - job_name: cadvisor
    static_configs:
      - targets: 
          - '100.117.69.115:8080'   # pimento
          - '100.121.35.12:8080'    # capsicum
          - '100.102.170.100:8080'  # chipotle
          - '100.96.0.121:8080'     # birdseye

#   - job_name: pihole
#     static_configs:
#       - targets: 
#           - '100.117.69.115:9617'   # pimento Pi-hole exporter
#           - '100.121.35.12:9617'    # capsicum Pi-hole exporter

#   - job_name: unifi
#     static_configs:
#       - targets: ['100.117.69.115:9130']   # Unifi Poller on pimento

  # Optional Synology SNMP scraping via snmp_exporter
  - job_name: synology-snmp
    static_configs:
      - targets: ['192.168.1.50']   # Synology LAN IP (example)
    metrics_path: /snmp
    params:
      module: [synology]           # Use the "synology" module defined in snmp.yml
    relabel_configs:
      - source_labels: [__address__]
        target_label: __param_target
      - source_labels: [__param_target]
        target_label: instance
      - source_labels: [__param_target]
        regex: (.*)
        replacement: ${1}:9116
        target_label: __address__